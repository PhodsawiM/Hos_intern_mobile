CREATE DATABASE tb_screening_db
CHARACTER SET utf8mb4
COLLATE utf8mb4_unicode_ci;

USE tb_screening_db;



CREATE TABLE screenings (
  id INT NOT NULL AUTO_INCREMENT,
  age INT DEFAULT NULL,
  gender VARCHAR(255) DEFAULT NULL,
  smoker VARCHAR(255) DEFAULT NULL,
  chronic VARCHAR(255) DEFAULT NULL,
  cough2w VARCHAR(255) DEFAULT NULL,
  coughBlood VARCHAR(255) DEFAULT NULL,
  coughL2w VARCHAR(255) DEFAULT NULL,
  weightLoss VARCHAR(255) DEFAULT NULL,
  fever VARCHAR(255) DEFAULT NULL,
  nightSweat VARCHAR(255) DEFAULT NULL,
  contact VARCHAR(255) DEFAULT NULL,
  history VARCHAR(255) DEFAULT NULL,
  score INT DEFAULT NULL,
  deviceName VARCHAR(255) DEFAULT NULL,
  deviceOs VARCHAR(255) DEFAULT NULL,
  deviceId VARCHAR(255) DEFAULT NULL,
  createdAt DATETIME DEFAULT NULL,
  updatedAt DATETIME NOT NULL,
  PRIMARY KEY (id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;





CREATE TABLE healthresults (
  id CHAR(36) NOT NULL,
  deviceId VARCHAR(255) NOT NULL,
  resultType ENUM('DM','HT') NOT NULL,
  riskLevel INT NOT NULL,
  riskCategory VARCHAR(255) DEFAULT NULL,
  fbsValue FLOAT DEFAULT NULL,
  hba1cValue FLOAT DEFAULT NULL,
  meanGlucoseValue FLOAT DEFAULT NULL,
  systolicBP INT DEFAULT NULL,
  diastolicBP INT DEFAULT NULL,
  consentGiven TINYINT(1) DEFAULT 1,
  timestamp DATETIME DEFAULT NULL,
  createdAt DATETIME DEFAULT NULL,
  updatedAt DATETIME NOT NULL,
  PRIMARY KEY (id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;




CREATE TABLE cvrisks (
  id CHAR(36) NOT NULL,
  deviceId VARCHAR(255) DEFAULT NULL,
  age FLOAT NOT NULL,
  gender VARCHAR(255) NOT NULL,
  smoker VARCHAR(255) NOT NULL,
  diabetes VARCHAR(255) NOT NULL,
  systolicBP FLOAT NOT NULL,
  isUsingBlood TINYINT(1) DEFAULT 0,
  cholesterol FLOAT DEFAULT NULL,
  waist FLOAT DEFAULT NULL,
  height FLOAT DEFAULT NULL,
  riskPercent FLOAT NOT NULL,
  riskLevel VARCHAR(255) NOT NULL,
  timestamp DATETIME DEFAULT NULL,
  createdAt DATETIME DEFAULT NULL,
  updatedAt DATETIME NOT NULL,
  PRIMARY KEY (id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;





CREATE TABLE tairesults (
  id CHAR(36) NOT NULL,
  deviceId VARCHAR(255) DEFAULT NULL,
  date DATETIME NOT NULL,
  age INT NOT NULL,
  creatinine FLOAT NOT NULL,
  egfrResult FLOAT NOT NULL,
  weight VARCHAR(255) NOT NULL,
  tailevel VARCHAR(255) DEFAULT NULL,
  createdAt DATETIME DEFAULT NULL,
  updatedAt DATETIME NOT NULL,
  PRIMARY KEY (id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;
